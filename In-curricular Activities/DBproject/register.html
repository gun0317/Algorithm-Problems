<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>2014312971</title>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/index.css" type="text/css">
</head>

<body>
    <div class="container register">
        <h2> 회원가입 </h2>
        <hr>
        <br>
        <form action="register.jsp" onsubmit="return beforeSubmit();" method="post">
            <div class="form-group row">
                <label for="id" class="col-sm-3 col-form-label">아이디</label>
                <div class="col-sm-9">
                    <input type="text" class="form-control" id="id" name="id" placeholder="id" required oninvalid="this.setCustomValidity('아이디를 입력하세요')" oninput="setCustomValidity('')">
                </div>
            </div>
            <div class="form-group row">
                <label for="pwd" class="col-sm-3 col-form-label">비밀번호</label>
                <div class="col-sm-9">
                    <input type="password" class="form-control" id="pwd" name="pwd" placeholder="password" required oninvalid="this.setCustomValidity('비밀번호를 입력하세요')" oninput="setCustomValidity('')" onkeyup="isSame()">
                </div>
            </div>
            <div class="form-group row">
                <label for="pwd_check" class="col-sm-3 col-form-label">비밀번호 확인</label>
                <div class="col-sm-9">
                    <input type="password" class="form-control" id="pwd_check" name="pwd_check" placeholder="password" required oninvalid="this.setCustomValidity('비밀번호를 다시 입력해주세요')" oninput="setCustomValidity('')" onkeyup="isSame()">
                </div>
                <div class="col-sm-3"></div>
                <div class="col-sm-9"><span id="same"></span></div>
            </div>
            <br>
            <div class="form-group row">
                <label for="age" class="col-sm-3 col-form-label">나이</label>
                <div class="col-sm-9">
                    <input type="number" class="form-control" id="age" name="age" placeholder="age" required oninvalid="this.setCustomValidity('나이를 입력하세요')" oninput="setCustomValidity('')">
                </div>
            </div>
            <div class="form-group row">
                <legend class="col-sm-3 col-form-label">성별</legend>
                <div class="col-sm-9">
                    <div class="custom-control custom-radio custom-control-inline">
                        <input type="radio" id="male" name="gender" value="남자" class="custom-control-input" required oninvalid="this.setCustomValidity('성별을 입력해주세요')" oninput="clearValidity();">
                        <label class="custom-control-label" for="male">남자</label>
                    </div>
                    <div class="custom-control custom-radio custom-control-inline">
                        <input type="radio" id="female" name="gender" value="여자" class="custom-control-input" oninput="clearValidity();">
                        <label class="custom-control-label" for="female">여자</label>
                    </div>
                </div>
            </div>
            <div class="form-group row">
                <label for="id" class="col-sm-3 col-form-label">거주지</label>
                <div class="col-sm-9">
                    <input type="text" class="form-control" id="loc" name="loc" placeholder="location" required oninvalid="this.setCustomValidity('거주지를 입력하세요')" oninput="setCustomValidity('')">
                </div>
            </div>

            <br>
            <div class="form-group">
                <label for="terms">이용약관</label>
                <textarea class="form-control" id="terms" rows="3" disabled>
                  이용약관 수칙 및 동의
                </textarea>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="gridCheck" required oninvalid="this.setCustomValidity('이용약관에 동의해주십시오')" oninput="setCustomValidity('')">
                    <label class="form-check-label" for="gridCheck" required> 동의합니다 </label>
                </div>
            </div>
            <button type="submit" class="btn btn-primary">&nbsp;&nbsp;&nbsp;&nbsp;회원가입&nbsp;&nbsp;&nbsp;&nbsp;</button>
        </form>
    </div>
    <script>

        var same = 0;
        function isSame() {
            if (document.getElementById('pwd').value != '' && document.getElementById('pwd_check').value != '') {
                if (document.getElementById('pwd').value == document.getElementById('pwd_check').value) {
                    document.getElementById('same').innerHTML = '비밀번호가 일치합니다.';
                    document.getElementById('same').style.color = 'green';
                    same = 1;
                } else {
                    document.getElementById('same').innerHTML = '비밀번호가 일치하지 않습니다.';
                    document.getElementById('same').style.color = 'red';
                    same = 0;
                }
            } else {
                document.getElementById('same').innerHTML = '';
                same = 0;
            }
        }
        function clearValidity() {
            document.getElementById('male').setCustomValidity('');
        }
        function beforeSubmit(){

          if(same == 0){
            alert("비밀번호가 일치하지 않습니다.");
            return false;
          }
          else{
            return true;
          }

        }
    </script>

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="js/bootstrap.min.js"></script>
</body>

</html>
